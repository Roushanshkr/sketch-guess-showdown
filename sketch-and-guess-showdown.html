<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sketch & Guess Showdown</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: white;
            font-size: 3rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .header p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
        }

        .game-board {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        .teams-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .team {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
        }

        .team.team-b {
            background: linear-gradient(135deg, #4834d4, #686de0);
        }

        .team h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }

        .score {
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff416c, #ff4757);
            color: white;
        }

        .btn-small {
            padding: 5px 15px;
            font-size: 0.9rem;
        }

        .timer-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .timer-display {
            font-size: 4rem;
            font-weight: bold;
            color: #333;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .timer-progress {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .timer-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
            transition: width 1s linear;
            border-radius: 10px;
        }

        .timer-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .timer-select {
            padding: 10px 15px;
            border: 2px solid #667eea;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
        }

        .game-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .level-btn {
            padding: 20px;
            font-size: 1.5rem;
            border-radius: 15px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-weight: bold;
        }

        .level-1 {
            background: linear-gradient(135deg, #56ab2f, #a8e6cf);
        }

        .level-2 {
            background: linear-gradient(135deg, #f7971e, #ffd200);
        }

        .level-3 {
            background: linear-gradient(135deg, #ff416c, #ff4757);
        }

        .word-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            margin: 20px 0;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .word-text {
            font-size: 2.5rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 8px solid #333;
            border-top: 8px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .loading-text {
            color: white;
            font-size: 1.5rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .loading-countdown {
            color: #667eea;
            font-size: 3rem;
            font-weight: bold;
        }

        .admin-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
        }

        .admin-login {
            max-width: 400px;
            margin: 0 auto;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .hidden {
            display: none !important;
        }

        .sound-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .navigation {
            text-align: center;
            margin-bottom: 20px;
        }

        .nav-btn {
            margin: 0 10px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover,
        .nav-btn.active {
            background: white;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .teams-section {
                grid-template-columns: 1fr;
            }

            .timer-controls {
                flex-direction: column;
            }

            .header h1 {
                font-size: 2rem;
            }

            .timer-display {
                font-size: 2.5rem;
            }

            .word-text {
                font-size: 1.8rem;
            }
        }
    </style>
</head>

<body>
    <button class="sound-toggle" id="soundToggle" title="Toggle Sound">ðŸ”Š</button>

    <div class="container">
        <div class="header">
            <h1>ðŸŽ¨ Sketch & Guess Showdown ðŸŽ¯</h1>
            <p>The Ultimate Office Fun Friday Drawing Game!</p>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showGame()">Game</button>
            <button class="nav-btn" onclick="showAdmin()">Admin</button>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen">
            <div class="game-board">
                <div class="teams-section">
                    <div class="team team-a">
                        <h3>Team A</h3>
                        <div class="score" id="scoreA">0</div>
                        <div class="score-controls">
                            <button class="btn btn-success btn-small" onclick="addScore('A', 1)">+1</button>
                            <button class="btn btn-success btn-small" onclick="addScore('A', 2)">+2</button>
                            <button class="btn btn-success btn-small" onclick="addScore('A', 3)">+3</button>
                            <button class="btn btn-danger btn-small" onclick="subtractScore('A')">-1</button>
                        </div>
                    </div>
                    <div class="team team-b">
                        <h3>Team B</h3>
                        <div class="score" id="scoreB">0</div>
                        <div class="score-controls">
                            <button class="btn btn-success btn-small" onclick="addScore('B', 1)">+1</button>
                            <button class="btn btn-success btn-small" onclick="addScore('B', 2)">+2</button>
                            <button class="btn btn-success btn-small" onclick="addScore('B', 3)">+3</button>
                            <button class="btn btn-danger btn-small" onclick="subtractScore('B')">-1</button>
                        </div>
                    </div>
                </div>

                <div class="timer-section">
                    <div class="timer-display" id="timerDisplay">1:30</div>
                    <div class="timer-progress">
                        <div class="timer-progress-bar" id="timerProgressBar"></div>
                    </div>
                    <div class="timer-controls">
                        <select class="timer-select" id="timerSelect">
                            <option value="60">1:00</option>
                            <option value="90" selected>1:30</option>
                            <option value="120">2:00</option>
                            <option value="150">2:30</option>
                            <option value="180">3:00</option>
                            <option value="210">3:30</option>
                            <option value="240">4:00</option>
                            <option value="270">4:30</option>
                            <option value="300">5:00</option>
                        </select>
                        <button class="btn btn-primary" id="startStopBtn" onclick="toggleTimer()">Start Timer</button>
                        <button class="btn btn-danger" onclick="resetTimer()">Reset</button>
                    </div>
                </div>

                <div class="game-controls">
                    <button class="level-btn level-1" onclick="selectLevel(1)">
                        Level 1<br><small>(1 Point - Easy)</small>
                    </button>
                    <button class="level-btn level-2" onclick="selectLevel(2)">
                        Level 2<br><small>(2 Points - Medium)</small>
                    </button>
                    <button class="level-btn level-3" onclick="selectLevel(3)">
                        Level 3<br><small>(3 Points - Hard)</small>
                    </button>
                </div>

                <div class="word-display" id="wordDisplay">
                    <div class="word-text">Select a level to get your word!</div>
                </div>
            </div>
        </div>

        <!-- Admin Screen -->
        <div id="adminScreen" class="hidden">
            <!-- Admin Login -->
            <div id="adminLogin" class="admin-panel">
                <div class="admin-login">
                    <h2>Admin Login</h2>
                    <div class="form-group">
                        <label for="adminUsername">Username:</label>
                        <input type="text" id="adminUsername" placeholder="Enter admin username">
                    </div>
                    <div class="form-group">
                        <label for="adminPassword">Password:</label>
                        <input type="password" id="adminPassword" placeholder="Enter admin password">
                    </div>
                    <button class="btn btn-primary" onclick="adminLogin()">Login</button>
                    <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">
                        Default: admin / admin123
                    </p>
                </div>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="hidden">
                <div class="admin-panel">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                        <h2>Admin Dashboard</h2>
                        <button class="btn btn-danger" onclick="adminLogout()">Logout</button>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                        <!-- Game Management -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                            <h3>Game Management</h3>
                            <div class="form-group">
                                <label for="gameName">Game Session Name:</label>
                                <input type="text" id="gameName" placeholder="Enter game name">
                            </div>
                            <button class="btn btn-primary" onclick="createGame()">Create New Game</button>
                            <button class="btn btn-success" onclick="resetScores()">Reset Scores</button>
                        </div>

                        <!-- Word Management -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                            <h3>Word Management</h3>
                            <div class="form-group">
                                <label for="newWord">Add Word:</label>
                                <input type="text" id="newWord" placeholder="Enter new word">
                            </div>
                            <div class="form-group">
                                <label for="wordLevel">Level:</label>
                                <select id="wordLevel">
                                    <option value="1">Level 1 (Easy)</option>
                                    <option value="2">Level 2 (Medium)</option>
                                    <option value="3">Level 3 (Hard)</option>
                                </select>
                            </div>
                            <button class="btn btn-primary" onclick="addWord()">Add Word</button>
                        </div>

                        <!-- JSON Import/Export -->
                        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                            <h3>JSON Import/Export</h3>
                            <div class="form-group">
                                <label for="jsonImport">Import JSON:</label>
                                <textarea id="jsonImport" rows="4"
                                    placeholder='{"level_1": ["word1"], "level_2": ["word2"], "level_3": ["word3"]}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="importWords()">Import Words</button>
                            <button class="btn btn-success" onclick="exportWords()">Export Words</button>
                        </div>
                    </div>

                    <!-- Word Lists -->
                    <div style="margin-top: 30px;">
                        <h3>Current Word Lists</h3>
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div>
                                <h4>Level 1 Words (<span id="level1Count">0</span>)</h4>
                                <div id="level1Words"
                                    style="max-height: 200px; overflow-y: auto; background: white; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                                </div>
                            </div>
                            <div>
                                <h4>Level 2 Words (<span id="level2Count">0</span>)</h4>
                                <div id="level2Words"
                                    style="max-height: 200px; overflow-y: auto; background: white; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                                </div>
                            </div>
                            <div>
                                <h4>Level 3 Words (<span id="level3Count">0</span>)</h4>
                                <div id="level3Words"
                                    style="max-height: 200px; overflow-y: auto; background: white; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loadingScreen" class="loading-screen hidden">
            <div class="loading-spinner"></div>
            <div class="loading-text" id="loadingText">Brewing some brain teasers...</div>
            <div class="loading-countdown" id="loadingCountdown">3</div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            scores: { A: 0, B: 0 },
            timer: { duration: 90, remaining: 90, isRunning: false, interval: null },
            currentWord: '',
            usedWords: new Set(),
            soundEnabled: true,
            isAdmin: false
        };

        // Comprehensive Word Database
        const wordDatabase = {
            level_1: [
                // Easy words (70% - 105 words)
                "apple", "cat", "house", "car", "book", "tree", "ball", "cup", "phone", "chair",
                "dog", "sun", "moon", "star", "fish", "bird", "flower", "cake", "pizza", "smile",
                "run", "jump", "sleep", "eat", "drink", "walk", "dance", "sing", "laugh", "cry",
                "happy", "sad", "big", "small", "hot", "cold", "red", "blue", "green", "yellow",
                "door", "window", "table", "bed", "shoe", "hat", "shirt", "pants", "sock", "watch",
                "pen", "paper", "bag", "box", "key", "money", "food", "water", "milk", "bread",
                "eye", "hand", "foot", "head", "hair", "nose", "mouth", "ear", "arm", "leg",
                "love", "friend", "family", "home", "work", "school", "game", "toy", "gift", "party",
                "music", "movie", "photo", "letter", "number", "color", "shape", "line", "circle", "square",
                "baby", "child", "mother", "father", "sister", "brother", "teacher", "doctor", "nurse", "cook",
                "rain", "snow", "wind", "cloud", "fire", "ice", "rock", "sand", "grass", "leaf",
                // Medium words (30% - 45 words)
                "elephant", "butterfly", "rainbow", "mountain", "ocean", "forest", "garden", "kitchen", "bedroom", "bathroom",
                "computer", "television", "telephone", "bicycle", "airplane", "helicopter", "motorcycle", "umbrella", "sandwich", "hamburger",
                "chocolate", "strawberry", "pineapple", "watermelon", "basketball", "football", "baseball", "swimming", "painting", "drawing",
                "birthday", "holiday", "vacation", "adventure", "surprise", "mystery", "treasure", "castle", "princess", "dragon",
                "scientist", "artist", "musician", "athlete", "detective"
            ],
            level_2: [
                // Medium words (70% - 105 words)
                "telescope", "microscope", "calculator", "refrigerator", "dishwasher", "microwave", "blender", "toaster", "vacuum", "chandelier",
                "architecture", "engineering", "photography", "journalism", "psychology", "sociology", "philosophy", "democracy", "economy", "technology",
                "algorithm", "database", "internet", "website", "software", "hardware", "keyboard", "monitor", "printer", "scanner",
                "friendship", "relationship", "partnership", "leadership", "teamwork", "cooperation", "communication", "negotiation", "presentation", "conference",
                "restaurant", "cafeteria", "library", "museum", "theater", "cinema", "stadium", "gymnasium", "laboratory", "factory",
                "saxophone", "violin", "piano", "guitar", "trumpet", "drums", "orchestra", "symphony", "melody", "harmony",
                "documentary", "biography", "encyclopedia", "dictionary", "magazine", "newspaper", "article", "paragraph", "sentence", "vocabulary",
                "geography", "history", "mathematics", "chemistry", "physics", "biology", "astronomy", "geology", "meteorology", "archaeology",
                "breakfast", "lunch", "dinner", "appetizer", "dessert", "beverage", "ingredient", "recipe", "nutrition", "vitamin",
                "exercise", "fitness", "health", "medicine", "hospital", "clinic", "pharmacy", "treatment", "therapy", "surgery",
                "transportation", "destination", "journey", "adventure", "exploration", "discovery", "invention", "innovation", "creativity", "imagination",
                // Easy words (15% - 22 words)
                "butterfly", "rainbow", "chocolate", "birthday", "vacation", "treasure", "princess", "dragon", "scientist", "artist",
                "musician", "detective", "elephant", "mountain", "ocean", "forest", "garden", "kitchen", "computer", "bicycle",
                "airplane", "sandwich",
                // Hard words (15% - 23 words)
                "serendipity", "melancholy", "nostalgia", "euphoria", "tranquility", "perseverance", "resilience", "determination", "procrastination", "contemplation",
                "juxtaposition", "metamorphosis", "synchronicity", "spontaneity", "authenticity", "vulnerability", "empathy", "compassion", "integrity", "humility",
                "sophistication", "elegance", "magnificence"
            ],
            level_3: [
                // Hard words (70% - 105 words)
                "serendipity", "juxtaposition", "ephemeral", "melancholy", "nostalgia", "euphoria", "tranquility", "perseverance", "resilience", "determination",
                "procrastination", "contemplation", "metamorphosis", "synchronicity", "spontaneity", "authenticity", "vulnerability", "empathy", "compassion", "integrity",
                "humility", "sophistication", "elegance", "magnificence", "exuberance", "vivacious", "gregarious", "introspective", "philosophical", "existential",
                "cinematography", "choreography", "calligraphy", "typography", "archaeology", "anthropology", "etymology", "genealogy", "methodology", "terminology",
                "nanotechnology", "biotechnology", "cryptocurrency", "blockchain", "artificial intelligence", "quantum computing", "virtual reality", "augmented reality", "machine learning", "cybersecurity",
                "entrepreneurship", "globalization", "sustainability", "diversification", "optimization", "standardization", "systematization", "categorization", "prioritization", "specialization",
                "bouillabaisse", "ratatouille", "charcuterie", "sommelier", "gastronomy", "molecular gastronomy", "fermentation", "distillation", "crystallization", "emulsification",
                "philatelist", "numismatist", "cartographer", "lexicographer", "bibliophile", "audiophile", "connoisseur", "aficionado", "virtuoso", "maestro",
                "paradigm", "phenomenon", "hypothesis", "synthesis", "analysis", "diagnosis", "prognosis", "synopsis", "metamorphosis", "photosynthesis",
                "bureaucracy", "meritocracy", "aristocracy", "plutocracy", "theocracy", "autocracy", "democracy", "diplomacy", "transparency", "accountability",
                "kaleidoscope", "periscope", "stethoscope", "horoscope", "microscope",
                // Medium words (20% - 30 words)
                "telescope", "architecture", "photography", "psychology", "technology", "algorithm", "friendship", "leadership", "restaurant", "saxophone",
                "documentary", "geography", "mathematics", "chemistry", "breakfast", "exercise", "transportation", "innovation", "creativity", "imagination",
                "presentation", "conference", "laboratory", "symphony", "encyclopedia", "archaeology", "nutrition", "medicine", "exploration", "discovery",
                // Easy words (10% - 15 words)
                "elephant", "butterfly", "rainbow", "mountain", "chocolate", "birthday", "treasure", "scientist", "computer", "airplane",
                "music", "family", "friend", "happy", "love"
            ]
        };

        // Loading texts for each level
        const loadingTexts = {
            1: [
                "Brewing some brain teasers...", "Mixing up the fun...", "Cooking up easy challenges...",
                "Stirring simple surprises...", "Blending basic brilliance...", "Whipping up word wonders...",
                "Crafting creative clues...", "Preparing playful puzzles...", "Generating gentle games...",
                "Assembling awesome activities...", "Building basic brain benders...", "Creating casual challenges...",
                "Designing delightful diversions...", "Formulating fun fundamentals...", "Hatching happy hints...",
                "Inventing interesting ideas...", "Launching light-hearted laughs...", "Making merry mysteries...",
                "Organizing outstanding options...", "Producing pleasant pastimes...", "Queuing quick questions...",
                "Readying relaxed riddles...", "Serving simple solutions...", "Tailoring terrific teasers...",
                "Unveiling upbeat undertakings..."
            ],
            2: [
                "Concocting clever complications...", "Brewing moderate mayhem...", "Mixing medium mysteries...",
                "Stirring substantial surprises...", "Blending balanced brain-busters...", "Whipping up worthy word wars...",
                "Crafting calculated challenges...", "Preparing perplexing puzzles...", "Generating gripping games...",
                "Assembling ambitious activities...", "Building better brain benders...", "Creating compelling challenges...",
                "Designing demanding diversions...", "Formulating focused fun...", "Hatching hefty head-scratchers...",
                "Inventing intricate ideas...", "Launching lively logic loops...", "Making meaningful mysteries...",
                "Organizing optimal obstacles...", "Producing purposeful pastimes...", "Queuing quality questions...",
                "Readying robust riddles...", "Serving sophisticated solutions...", "Tailoring tough teasers...",
                "Unveiling uncompromising undertakings..."
            ],
            3: [
                "Orchestrating overwhelming obstacles...", "Brewing brutal brain-breakers...", "Mixing maximum mayhem...",
                "Stirring supreme struggles...", "Blending brutal brain-busters...", "Whipping up wicked word wars...",
                "Crafting crushing challenges...", "Preparing punishing puzzles...", "Generating grueling games...",
                "Assembling arduous activities...", "Building brutal brain benders...", "Creating crushing challenges...",
                "Designing devastating diversions...", "Formulating fierce fun...", "Hatching hellish head-scratchers...",
                "Inventing impossible ideas...", "Launching lethal logic loops...", "Making monstrous mysteries...",
                "Organizing overwhelming obstacles...", "Producing punishing pastimes...", "Queuing killer questions...",
                "Readying ruthless riddles...", "Serving savage solutions...", "Tailoring torturous teasers...",
                "Unveiling unforgiving undertakings..."
            ]
        };

        // Initialize game
        function initGame() {
            loadGameData();
            updateDisplay();
            updateWordLists();
        }

        // Navigation functions
        function showGame() {
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('adminScreen').classList.add('hidden');
            updateNavButtons('game');
        }

        function showAdmin() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('adminScreen').classList.remove('hidden');
            updateNavButtons('admin');
            if (!gameState.isAdmin) {
                document.getElementById('adminLogin').classList.remove('hidden');
                document.getElementById('adminDashboard').classList.add('hidden');
            }
        }

        function updateNavButtons(active) {
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            if (active === 'game') {
                document.querySelector('.nav-btn').classList.add('active');
            } else {
                document.querySelectorAll('.nav-btn')[1].classList.add('active');
            }
        }

        // Score management
        function addScore(team, points) {
            gameState.scores[team] += points;
            updateDisplay();
            saveGameData();

            // Show celebration effect
            showCelebration(team, points);
        }

        function subtractScore(team) {
            if (gameState.scores[team] > 0) {
                gameState.scores[team]--;
                updateDisplay();
                saveGameData();
            }
        }

        function resetScores() {
            gameState.scores.A = 0;
            gameState.scores.B = 0;
            updateDisplay();
            saveGameData();
        }

        function showCelebration(team, points) {
            // Simple celebration effect
            const teamElement = document.querySelector(`.team-${team.toLowerCase()}`);
            teamElement.style.transform = 'scale(1.1)';
            setTimeout(() => {
                teamElement.style.transform = 'scale(1)';
            }, 300);
        }

        // Timer functions
        function toggleTimer() {
            if (gameState.timer.isRunning) {
                stopTimer();
            } else {
                startTimer();
            }
        }

        function startTimer() {
            const duration = parseInt(document.getElementById('timerSelect').value);
            gameState.timer.duration = duration;
            gameState.timer.remaining = duration;
            gameState.timer.isRunning = true;

            document.getElementById('startStopBtn').textContent = 'Stop Timer';
            document.getElementById('startStopBtn').className = 'btn btn-danger';

            gameState.timer.interval = setInterval(() => {
                gameState.timer.remaining--;
                updateTimerDisplay();

                if (gameState.timer.remaining <= 0) {
                    stopTimer();
                    playTimerAlarm();
                }
            }, 1000);
        }

        function stopTimer() {
            gameState.timer.isRunning = false;
            clearInterval(gameState.timer.interval);

            document.getElementById('startStopBtn').textContent = 'Start Timer';
            document.getElementById('startStopBtn').className = 'btn btn-primary';
        }

        function resetTimer() {
            stopTimer();
            const duration = parseInt(document.getElementById('timerSelect').value);
            gameState.timer.duration = duration;
            gameState.timer.remaining = duration;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timer.remaining / 60);
            const seconds = gameState.timer.remaining % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;

            document.getElementById('timerDisplay').textContent = display;

            // Update progress bar
            const progress = (gameState.timer.remaining / gameState.timer.duration) * 100;
            document.getElementById('timerProgressBar').style.width = progress + '%';

            // Change color based on remaining time
            const progressBar = document.getElementById('timerProgressBar');
            if (progress > 50) {
                progressBar.style.background = 'linear-gradient(135deg, #56ab2f, #a8e6cf)';
            } else if (progress > 20) {
                progressBar.style.background = 'linear-gradient(135deg, #f7971e, #ffd200)';
            } else {
                progressBar.style.background = 'linear-gradient(135deg, #ff416c, #ff4757)';
            }

        }

        function playTimerAlarm() {
            if (!gameState.soundEnabled) return;

            // Create double beep using Web Audio API
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();

            function createBeep(frequency, duration, delay = 0) {
                setTimeout(() => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();

                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);

                    oscillator.frequency.value = frequency;
                    oscillator.type = 'sine';

                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);

                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + duration);
                }, delay);
            }

            createBeep(800, 0.2, 0);
            createBeep(800, 0.2, 300);
        }

        // Word selection and loading
        function selectLevel(level) {
            showLoadingScreen(level);
        }

        function showLoadingScreen(level) {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingText = document.getElementById('loadingText');
            const loadingCountdown = document.getElementById('loadingCountdown');

            // Get random loading text for the level
            const texts = loadingTexts[level];
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            loadingText.textContent = randomText;

            loadingScreen.classList.remove('hidden');

            let countdown = 3;
            loadingCountdown.textContent = countdown;

            const countdownInterval = setInterval(() => {
                countdown--;
                loadingCountdown.textContent = countdown;

                if (countdown <= 0) {
                    clearInterval(countdownInterval);
                    loadingScreen.classList.add('hidden');
                    showWord(level);
                }
            }, 1000);
        }

        function showWord(level) {
            const words = getWordsForLevel(level);
            const availableWords = words.filter(word => !gameState.usedWords.has(word));

            if (availableWords.length === 0) {
                // Reset used words if all are used
                gameState.usedWords.clear();
                showWord(level);
                return;
            }

            const randomWord = availableWords[Math.floor(Math.random() * availableWords.length)];
            gameState.currentWord = randomWord;
            gameState.usedWords.add(randomWord);

            const wordDisplay = document.getElementById('wordDisplay');
            wordDisplay.innerHTML = `
                <div class="word-text">${randomWord}</div>
                <div style="margin-top: 15px; font-size: 1rem; opacity: 0.8;">
                    Level ${level} - ${level} Point${level > 1 ? 's' : ''}
                </div>
            `;

            saveGameData();
        }

        function getWordsForLevel(level) {
            const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');
            const levelKey = `level_${level}`;

            // Combine default words with custom words
            const defaultWords = wordDatabase[levelKey] || [];
            const custom = customWords[levelKey] || [];

            return [...defaultWords, ...custom];
        }

        // Admin functions
        function adminLogin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;

            // Simple authentication (in real app, use proper authentication)
            if (username === 'admin' && password === 'admin123') {
                gameState.isAdmin = true;
                document.getElementById('adminLogin').classList.add('hidden');
                document.getElementById('adminDashboard').classList.remove('hidden');
                updateWordLists();
            } else {
                alert('Invalid credentials! Default: admin / admin123');
            }
        }

        function adminLogout() {
            gameState.isAdmin = false;
            document.getElementById('adminLogin').classList.remove('hidden');
            document.getElementById('adminDashboard').classList.add('hidden');
            document.getElementById('adminUsername').value = '';
            document.getElementById('adminPassword').value = '';
        }

        function createGame() {
            const gameName = document.getElementById('gameName').value;
            if (!gameName) {
                alert('Please enter a game name');
                return;
            }

            const gameData = {
                name: gameName,
                created: new Date().toISOString(),
                scores: { A: 0, B: 0 },
                usedWords: []
            };

            const games = JSON.parse(localStorage.getItem('games') || '[]');
            games.push(gameData);
            localStorage.setItem('games', JSON.stringify(games));

            alert('Game created successfully!');
            document.getElementById('gameName').value = '';
        }

        function addWord() {
            const word = document.getElementById('newWord').value.trim().toLowerCase();
            const level = document.getElementById('wordLevel').value;

            if (!word) {
                alert('Please enter a word');
                return;
            }

            const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');
            const levelKey = `level_${level}`;

            if (!customWords[levelKey]) {
                customWords[levelKey] = [];
            }

            if (!customWords[levelKey].includes(word)) {
                customWords[levelKey].push(word);
                localStorage.setItem('customWords', JSON.stringify(customWords));
                updateWordLists();
                document.getElementById('newWord').value = '';
                alert('Word added successfully!');
            } else {
                alert('Word already exists!');
            }
        }

        function importWords() {
            const jsonText = document.getElementById('jsonImport').value;

            try {
                const importedWords = JSON.parse(jsonText);

                // Validate structure
                if (!importedWords.level_1 || !importedWords.level_2 || !importedWords.level_3) {
                    throw new Error('Invalid JSON structure. Must have level_1, level_2, and level_3 arrays.');
                }

                const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');

                // Merge imported words with existing custom words
                ['level_1', 'level_2', 'level_3'].forEach(level => {
                    if (!customWords[level]) customWords[level] = [];

                    importedWords[level].forEach(word => {
                        const cleanWord = word.trim().toLowerCase();
                        if (cleanWord && !customWords[level].includes(cleanWord)) {
                            customWords[level].push(cleanWord);
                        }
                    });
                });

                localStorage.setItem('customWords', JSON.stringify(customWords));
                updateWordLists();
                document.getElementById('jsonImport').value = '';
                alert('Words imported successfully!');

            } catch (error) {
                alert('Error importing JSON: ' + error.message);
            }
        }

        function exportWords() {
            const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');
            const allWords = {
                level_1: [...(wordDatabase.level_1 || []), ...(customWords.level_1 || [])],
                level_2: [...(wordDatabase.level_2 || []), ...(customWords.level_2 || [])],
                level_3: [...(wordDatabase.level_3 || []), ...(customWords.level_3 || [])]
            };

            const jsonString = JSON.stringify(allWords, null, 2);

            // Create download link
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'sketch-guess-words.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function updateWordLists() {
            const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');

            ['1', '2', '3'].forEach(level => {
                const levelKey = `level_${level}`;
                const defaultWords = wordDatabase[levelKey] || [];
                const custom = customWords[levelKey] || [];
                const allWords = [...defaultWords, ...custom];

                const container = document.getElementById(`level${level}Words`);
                const countElement = document.getElementById(`level${level}Count`);

                if (container && countElement) {
                    countElement.textContent = allWords.length;

                    container.innerHTML = allWords.map(word => {
                        const isUsed = gameState.usedWords.has(word);
                        const isCustom = custom.includes(word);
                        return `
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 5px; margin: 2px 0; background: ${isUsed ? '#ffebee' : '#f8f9fa'}; border-radius: 3px;">
                                <span style="color: ${isUsed ? '#d32f2f' : '#333'}; ${isUsed ? 'text-decoration: line-through;' : ''}">${word}</span>
                                <div>
                                    ${isUsed ? '<span style="color: #d32f2f; font-size: 0.8rem;">USED</span>' : ''}
                                    ${isCustom ? `<button onclick="removeCustomWord('${word}', ${level})" style="margin-left: 5px; padding: 2px 6px; background: #ff4757; color: white; border: none; border-radius: 3px; font-size: 0.7rem; cursor: pointer;">Ã—</button>` : ''}
                                </div>
                            </div>
                        `;
                    }).join('');
                }
            });
        }

        function removeCustomWord(word, level) {
            if (confirm(`Remove "${word}" from Level ${level}?`)) {
                const customWords = JSON.parse(localStorage.getItem('customWords') || '{}');
                const levelKey = `level_${level}`;

                if (customWords[levelKey]) {
                    customWords[levelKey] = customWords[levelKey].filter(w => w !== word);
                    localStorage.setItem('customWords', JSON.stringify(customWords));
                    updateWordLists();
                }
            }
        }

        // Sound toggle
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            const soundToggle = document.getElementById('soundToggle');
            soundToggle.textContent = gameState.soundEnabled ? 'ðŸ”Š' : 'ðŸ”‡';
            saveGameData();
        }

        // Data persistence
        function saveGameData() {
            const dataToSave = {
                scores: gameState.scores,
                usedWords: Array.from(gameState.usedWords),
                soundEnabled: gameState.soundEnabled
            };
            localStorage.setItem('gameState', JSON.stringify(dataToSave));
        }

        function loadGameData() {
            const savedData = localStorage.getItem('gameState');
            if (savedData) {
                const data = JSON.parse(savedData);
                gameState.scores = data.scores || { A: 0, B: 0 };
                gameState.usedWords = new Set(data.usedWords || []);
                gameState.soundEnabled = data.soundEnabled !== false;
            }
        }

        function updateDisplay() {
            document.getElementById('scoreA').textContent = gameState.scores.A;
            document.getElementById('scoreB').textContent = gameState.scores.B;
            updateTimerDisplay();

            const soundToggle = document.getElementById('soundToggle');
            soundToggle.textContent = gameState.soundEnabled ? 'ðŸ”Š' : 'ðŸ”‡';
        }

        // Event listeners
        document.getElementById('soundToggle').addEventListener('click', toggleSound);

        // Timer select change
        document.getElementById('timerSelect').addEventListener('change', function () {
            if (!gameState.timer.isRunning) {
                resetTimer();
            }
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function (e) {
            if (e.code === 'Space' && !e.target.matches('input, textarea')) {
                e.preventDefault();
                toggleTimer();
            }
        });

        // Initialize the game when page loads
        window.addEventListener('load', initGame);
    </script>
</body>

</html>